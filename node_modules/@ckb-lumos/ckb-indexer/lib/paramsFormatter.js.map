{"version":3,"file":"paramsFormatter.js","names":["toScript","data","code_hash","codeHash","hash_type","hashType","args","exports","toSearchFilter","script","output_data_len_range","outputDataLenRange","output_capacity_range","outputCapacityRange","block_range","blockRange","script_len_range","scriptLenRange","toSearchKey","script_type","scriptType","filter","script_search_mode","scriptSearchMode","toGetCellsSearchKey","with_data","withData","toGetTransactionsSearchKey","group_by_transaction","groupByTransaction"],"sources":["../src/paramsFormatter.ts"],"sourcesContent":["import { Script } from \"@ckb-lumos/base\";\nimport type * as RPCType from \"./rpcType\";\nimport {\n  SearchKey,\n  SearchFilter,\n  GetCellsSearchKey,\n  GetTransactionsSearchKey,\n} from \"./type\";\n\nconst toScript = (data: Script): RPCType.Script => ({\n  code_hash: data.codeHash,\n  hash_type: data.hashType,\n  args: data.args,\n});\n\nconst toSearchFilter = (data: SearchFilter): RPCType.SearchFilter => {\n  return {\n    script: data.script ? toScript(data.script) : data.script,\n    output_data_len_range: data.outputDataLenRange,\n    output_capacity_range: data.outputCapacityRange,\n    block_range: data.blockRange,\n    script_len_range: data.scriptLenRange,\n  };\n};\n\nconst toSearchKey = (data: SearchKey): RPCType.SearchKey => ({\n  script: toScript(data.script),\n  script_type: data.scriptType,\n  filter: data.filter ? toSearchFilter(data.filter) : data.filter,\n  script_search_mode: data.scriptSearchMode ? data.scriptSearchMode : \"prefix\",\n});\n\nconst toGetCellsSearchKey = (\n  data: GetCellsSearchKey\n): RPCType.GetCellsSearchKey => ({\n  ...toSearchKey(data),\n  with_data: data.withData,\n});\n\nconst toGetTransactionsSearchKey = (\n  data: GetTransactionsSearchKey<boolean>\n): RPCType.GetTransactionsSearchKey => ({\n  ...toSearchKey(data),\n  group_by_transaction: data.groupByTransaction,\n});\n\nexport {\n  toScript,\n  toSearchKey,\n  toGetCellsSearchKey,\n  toGetTransactionsSearchKey,\n  toSearchFilter,\n};\n"],"mappings":";;;;;;AASA,MAAMA,QAAQ,GAAIC,IAAY,KAAsB;EAClDC,SAAS,EAAED,IAAI,CAACE,QAAQ;EACxBC,SAAS,EAAEH,IAAI,CAACI,QAAQ;EACxBC,IAAI,EAAEL,IAAI,CAACK;AACb,CAAC,CAAC;AAACC,OAAA,CAAAP,QAAA,GAAAA,QAAA;AAEH,MAAMQ,cAAc,GAAIP,IAAkB,IAA2B;EACnE,OAAO;IACLQ,MAAM,EAAER,IAAI,CAACQ,MAAM,GAAGT,QAAQ,CAACC,IAAI,CAACQ,MAAM,CAAC,GAAGR,IAAI,CAACQ,MAAM;IACzDC,qBAAqB,EAAET,IAAI,CAACU,kBAAkB;IAC9CC,qBAAqB,EAAEX,IAAI,CAACY,mBAAmB;IAC/CC,WAAW,EAAEb,IAAI,CAACc,UAAU;IAC5BC,gBAAgB,EAAEf,IAAI,CAACgB;EACzB,CAAC;AACH,CAAC;AAACV,OAAA,CAAAC,cAAA,GAAAA,cAAA;AAEF,MAAMU,WAAW,GAAIjB,IAAe,KAAyB;EAC3DQ,MAAM,EAAET,QAAQ,CAACC,IAAI,CAACQ,MAAM,CAAC;EAC7BU,WAAW,EAAElB,IAAI,CAACmB,UAAU;EAC5BC,MAAM,EAAEpB,IAAI,CAACoB,MAAM,GAAGb,cAAc,CAACP,IAAI,CAACoB,MAAM,CAAC,GAAGpB,IAAI,CAACoB,MAAM;EAC/DC,kBAAkB,EAAErB,IAAI,CAACsB,gBAAgB,GAAGtB,IAAI,CAACsB,gBAAgB,GAAG;AACtE,CAAC,CAAC;AAAChB,OAAA,CAAAW,WAAA,GAAAA,WAAA;AAEH,MAAMM,mBAAmB,GACvBvB,IAAuB,KACQ;EAC/B,GAAGiB,WAAW,CAACjB,IAAI,CAAC;EACpBwB,SAAS,EAAExB,IAAI,CAACyB;AAClB,CAAC,CAAC;AAACnB,OAAA,CAAAiB,mBAAA,GAAAA,mBAAA;AAEH,MAAMG,0BAA0B,GAC9B1B,IAAuC,KACD;EACtC,GAAGiB,WAAW,CAACjB,IAAI,CAAC;EACpB2B,oBAAoB,EAAE3B,IAAI,CAAC4B;AAC7B,CAAC,CAAC;AAACtB,OAAA,CAAAoB,0BAAA,GAAAA,0BAAA"}