{"version":3,"file":"transformers.js","names":["validators","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","invokeSerializeJson","debugPath","value","serializeJson","Function","transformObject","object","keys","Error","result","f","entries","camelKey","replace","group","toUpperCase","TransformScript","script","validation","codeHash","hashType","args","ValidateScript","TransformOutPoint","outPoint","txHash","index","ValidateOutPoint","toInvoke","transform","TransformCellInput","cellInput","since","previousOutput","ValidateCellInput","TransformCellOutput","cellOutput","capacity","lock","type","ValidateCellOutput","TransformCellDep","cellDep","depType","ValidateCellDep","toInvokeArray","invokeFunction","array","map","item","i","TransformRawTransaction","rawTransaction","version","cellDeps","headerDeps","inputs","outputs","outputsData","ValidateRawTransaction","TransformTransaction","transaction","witnesses","ValidateTransaction","TransformRawHeader","rawHeader","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao","ValidateRawHeader","TransformHeader","header","nonce","ValidateHeader","TransformUncleBlock","uncleBlock","proposals","ValidateUncleBlock","TransformBlock","block","uncles","transactions","ValidateBlock","TransformCellbaseWitness","cellbaseWitness","message","ValidateCellbaseWitness","TransformWitnessArgs","witnessArgs","inputType","outputType","ValidateWitnessArgs"],"sources":["../src/transformers.js"],"sourcesContent":["// This package provides transformer functions that transform JavaScript objects\n// into JSON ready objects that can be passed to RPC. It following the following\n// rules:\n//\n// 1. If the specified object has a serializeJson method, it would invoke this\n// method and use the result to replace current object.\n// 2. It then restricts the keys of the object to keys required by the specified\n// entity(i.e., a Script would only have codeHash, hashType, args keys),for each\n// sub-field, it then recursively perform the steps here from step 1.\n// 3. It then optionally run validator functions to ensure the resulting object\n// follows specified rules.\n//\n// Note rule 1 here provides the flexibility in defining your own structures: you\n// could define a class containing custom data structures, then provide a\n// serializeJson that transforms the custom one into the rigid data structure\n// required by CKB. You can also leverage the Reader class we provide as much as\n// possible. Since Reader class does provide serializeJson methods, transformers\n// here will transform them to valid hex strings required by CKB.\nimport * as validators from \"./validators\";\n\nfunction invokeSerializeJson(debugPath, value) {\n  if (value instanceof Object && value.serializeJson instanceof Function) {\n    return value.serializeJson.call(value);\n  }\n  return value;\n}\n\nfunction transformObject(debugPath, object, keys) {\n  object = invokeSerializeJson(debugPath, object);\n  if (!(object instanceof Object)) {\n    throw new Error(`Transformed ${debugPath} is not an object!`);\n  }\n  const result = {};\n\n  for (const [key, f] of Object.entries(keys)) {\n    let value = object[key];\n    if (!value) {\n      const camelKey = key.replace(/(_[a-z])/g, (group) =>\n        group.toUpperCase().replace(\"_\", \"\")\n      );\n      value = object[camelKey];\n    }\n    if (value) {\n      result[key] = f(`${debugPath}.${key}`, value);\n    }\n  }\n  return result;\n}\n/**\n * @deprecated please follow the {@link https://lumos-website.vercel.app/migrations/migrate-to-v0.19 migration-guide}\n */\nexport function TransformScript(\n  script,\n  { validation = true, debugPath = \"script\" } = {}\n) {\n  script = transformObject(debugPath, script, {\n    codeHash: invokeSerializeJson,\n    hashType: invokeSerializeJson,\n    args: invokeSerializeJson,\n  });\n\n  if (validation) {\n    validators.ValidateScript(script, {\n      debugPath: `(transformed) ${debugPath}`,\n    });\n  }\n  return script;\n}\n/**\n * @deprecated please follow the {@link https://lumos-website.vercel.app/migrations/migrate-to-v0.19 migration-guide}\n */\nexport function TransformOutPoint(\n  outPoint,\n  { validation = true, debugPath = \"outPoint\" } = {}\n) {\n  outPoint = transformObject(debugPath, outPoint, {\n    txHash: invokeSerializeJson,\n    index: invokeSerializeJson,\n  });\n\n  if (validation) {\n    validators.ValidateOutPoint(outPoint, {\n      debugPath: `(transformed) ${debugPath}`,\n    });\n  }\n  return outPoint;\n}\n\nfunction toInvoke(transform) {\n  return function (debugPath, value) {\n    return transform(value, {\n      validation: false,\n      debugPath,\n    });\n  };\n}\n/**\n * @deprecated please follow the {@link https://lumos-website.vercel.app/migrations/migrate-to-v0.19 migration-guide}\n */\nexport function TransformCellInput(\n  cellInput,\n  { validation = true, debugPath = \"cell_input\" } = {}\n) {\n  cellInput = transformObject(debugPath, cellInput, {\n    since: invokeSerializeJson,\n    previousOutput: toInvoke(TransformOutPoint),\n  });\n\n  if (validation) {\n    validators.ValidateCellInput(cellInput, {\n      debugPath: `(transformed) ${debugPath}`,\n    });\n  }\n  return cellInput;\n}\n/**\n * @deprecated please follow the {@link https://lumos-website.vercel.app/migrations/migrate-to-v0.19 migration-guide}\n */\nexport function TransformCellOutput(\n  cellOutput,\n  { validation = true, debugPath = \"cellOutput\" } = {}\n) {\n  cellOutput = transformObject(debugPath, cellOutput, {\n    capacity: invokeSerializeJson,\n    lock: toInvoke(TransformScript),\n    type: toInvoke(TransformScript),\n  });\n\n  if (validation) {\n    validators.ValidateCellOutput(cellOutput, {\n      debugPath: `(transformed) ${debugPath}`,\n    });\n  }\n  return cellOutput;\n}\n/**\n * @deprecated please follow the {@link https://lumos-website.vercel.app/migrations/migrate-to-v0.19 migration-guide}\n */\n/**\n * @deprecated please follow the {@link https://lumos-website.vercel.app/migrations/migrate-to-v0.19 migration-guide}\n */ function TransformCellDep(\n  cellDep,\n  { validation = true, debugPath = \"cell_dep\" } = {}\n) {\n  cellDep = transformObject(debugPath, cellDep, {\n    outPoint: toInvoke(TransformOutPoint),\n    depType: invokeSerializeJson,\n  });\n\n  if (validation) {\n    validators.ValidateCellDep(cellDep, {\n      debugPath: `(transformed) ${debugPath}`,\n    });\n  }\n  return cellDep;\n}\n\nfunction toInvokeArray(invokeFunction) {\n  return function (debugPath, array) {\n    return array.map((item, i) => {\n      return invokeFunction(`${debugPath}[${i}]`, item);\n    });\n  };\n}\n\n/**\n * @deprecated please follow the {@link https://lumos-website.vercel.app/migrations/migrate-to-v0.19 migration-guide}\n */\nexport function TransformRawTransaction(\n  rawTransaction,\n  { validation = true, debugPath = \"raw_transaction\" } = {}\n) {\n  rawTransaction = transformObject(debugPath, rawTransaction, {\n    version: invokeSerializeJson,\n    cellDeps: toInvokeArray(toInvoke(TransformCellDep)),\n    headerDeps: toInvokeArray(invokeSerializeJson),\n    inputs: toInvokeArray(toInvoke(TransformCellInput)),\n    outputs: toInvokeArray(toInvoke(TransformCellOutput)),\n    outputsData: toInvokeArray(invokeSerializeJson),\n  });\n\n  if (validation) {\n    validators.ValidateRawTransaction(rawTransaction, {\n      debugPath: `(transformed) ${debugPath}`,\n    });\n  }\n  return rawTransaction;\n}\n\n/**\n * @deprecated please follow the {@link https://lumos-website.vercel.app/migrations/migrate-to-v0.19 migration-guide}\n */\nexport function TransformTransaction(\n  transaction,\n  { validation = true, debugPath = \"transaction\" } = {}\n) {\n  transaction = transformObject(debugPath, transaction, {\n    version: invokeSerializeJson,\n    cellDeps: toInvokeArray(toInvoke(TransformCellDep)),\n    headerDeps: toInvokeArray(invokeSerializeJson),\n    inputs: toInvokeArray(toInvoke(TransformCellInput)),\n    outputs: toInvokeArray(toInvoke(TransformCellOutput)),\n    outputsData: toInvokeArray(invokeSerializeJson),\n    witnesses: toInvokeArray(invokeSerializeJson),\n  });\n\n  if (validation) {\n    validators.ValidateTransaction(transaction, {\n      debugPath: `(transformed) ${debugPath}`,\n    });\n  }\n  return transaction;\n}\n\n/**\n * @deprecated please follow the {@link https://lumos-website.vercel.app/migrations/migrate-to-v0.19 migration-guide}\n */\nexport function TransformRawHeader(\n  rawHeader,\n  { validation = true, debugPath = \"raw_header\" } = {}\n) {\n  rawHeader = transformObject(debugPath, rawHeader, {\n    version: invokeSerializeJson,\n    compactTarget: invokeSerializeJson,\n    timestamp: invokeSerializeJson,\n    number: invokeSerializeJson,\n    epoch: invokeSerializeJson,\n    parentHash: invokeSerializeJson,\n    transactionsRoot: invokeSerializeJson,\n    proposalsHash: invokeSerializeJson,\n    extraHash: invokeSerializeJson,\n    dao: invokeSerializeJson,\n  });\n\n  if (validation) {\n    validators.ValidateRawHeader(rawHeader, {\n      debugPath: `(transformed) ${debugPath}`,\n    });\n  }\n  return rawHeader;\n}\n\n/**\n * @deprecated please follow the {@link https://lumos-website.vercel.app/migrations/migrate-to-v0.19 migration-guide}\n */\nexport function TransformHeader(\n  header,\n  { validation = true, debugPath = \"header\" } = {}\n) {\n  header = transformObject(debugPath, header, {\n    version: invokeSerializeJson,\n    compactTarget: invokeSerializeJson,\n    timestamp: invokeSerializeJson,\n    number: invokeSerializeJson,\n    epoch: invokeSerializeJson,\n    parentHash: invokeSerializeJson,\n    transactionsRoot: invokeSerializeJson,\n    proposalsHash: invokeSerializeJson,\n    extraHash: invokeSerializeJson,\n    dao: invokeSerializeJson,\n    nonce: invokeSerializeJson,\n  });\n\n  if (validation) {\n    validators.ValidateHeader(header, {\n      debugPath: `(transformed) ${debugPath}`,\n    });\n  }\n  return header;\n}\n\n/**\n * @deprecated please follow the {@link https://lumos-website.vercel.app/migrations/migrate-to-v0.19 migration-guide}\n */\nexport function TransformUncleBlock(\n  uncleBlock,\n  { validation = true, debugPath = \"uncle_block\" } = {}\n) {\n  uncleBlock = transformObject(debugPath, uncleBlock, {\n    header: toInvoke(TransformHeader),\n    proposals: toInvokeArray(invokeSerializeJson),\n  });\n\n  if (validation) {\n    validators.ValidateUncleBlock(uncleBlock, {\n      debugPath: `(transformed) ${debugPath}`,\n    });\n  }\n  return uncleBlock;\n}\n\n/**\n * @deprecated please follow the {@link https://lumos-website.vercel.app/migrations/migrate-to-v0.19 migration-guide}\n */\nexport function TransformBlock(\n  block,\n  { validation = true, debugPath = \"block\" } = {}\n) {\n  block = transformObject(debugPath, block, {\n    header: toInvoke(TransformHeader),\n    uncles: toInvokeArray(toInvoke(TransformUncleBlock)),\n    transactions: toInvokeArray(toInvoke(TransformTransaction)),\n    proposals: toInvokeArray(invokeSerializeJson),\n  });\n\n  if (validation) {\n    validators.ValidateBlock(block, {\n      debugPath: `(transformed) ${debugPath}`,\n    });\n  }\n  return block;\n}\n\n/**\n * @deprecated please follow the {@link https://lumos-website.vercel.app/migrations/migrate-to-v0.19 migration-guide}\n */\nexport function TransformCellbaseWitness(\n  cellbaseWitness,\n  { validation = true, debugPath = \"cellbase_witness\" } = {}\n) {\n  cellbaseWitness = transformObject(debugPath, cellbaseWitness, {\n    lock: toInvoke(TransformScript),\n    message: invokeSerializeJson,\n  });\n\n  if (validation) {\n    validators.ValidateCellbaseWitness(cellbaseWitness, {\n      debugPath: `(transformed) ${debugPath}`,\n    });\n  }\n  return cellbaseWitness;\n}\n\n/**\n * @deprecated please follow the {@link https://lumos-website.vercel.app/migrations/migrate-to-v0.19 migration-guide}\n */\nexport function TransformWitnessArgs(\n  witnessArgs,\n  { validation = true, debugPath = \"witness_args\" } = {}\n) {\n  witnessArgs = transformObject(debugPath, witnessArgs, {\n    lock: invokeSerializeJson,\n    inputType: invokeSerializeJson,\n    outputType: invokeSerializeJson,\n  });\n\n  if (validation) {\n    validators.ValidateWitnessArgs(witnessArgs, {\n      debugPath: `(transformed) ${debugPath}`,\n    });\n  }\n  return witnessArgs;\n}\n"],"mappings":"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"}