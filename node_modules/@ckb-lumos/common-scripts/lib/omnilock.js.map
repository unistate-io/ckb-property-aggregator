{"version":3,"file":"omnilock.js","names":["_codec","require","_base","_configManager","_helper","_from_info","_molecule","_blockchain","_bytes","ScriptValue","values","createOmnilockScript","omnilockInfo","options","config","getConfig","omnilockConfig","SCRIPTS","OMNILOCK","Error","args","auth","flag","bytes","hexify","content","slice","script","codeHash","CODE_HASH","hashType","HASH_TYPE","Hexify","pack","bytify","unpack","Identity","createFixedHexBytesCodec","SmtProof","byteVecOf","SmtProofEntry","table","mask","byteOf","proof","SmtProofEntryVec","vector","OmniIdentity","identity","proofs","OmniIdentityOpt","option","OmnilockWitnessLock","signature","BytesOpt","omni_identity","preimage","exports","CellCollector","constructor","fromInfo","cellProvider","undefined","queryOptions","fromScript","parseFromInfo","lock","type","cellCollector","collector","collect","isOmnilockScript","inputCell","setupInputCell","txSkeleton","_fromInfo","defaultWitness","since","cellOutput","update","inputs","push","output","capacity","data","outputs","inputSinces","set","get","size","witnesses","template","secp256k1Template","SECP256K1_BLAKE160","omnilockOutPoint","txHash","TX_HASH","index","INDEX","secp256k1OutPoint","addCellDep","outPoint","depType","DEP_TYPE","firstIndex","findIndex","input","validate","equals","witness","newWitnessArgs","OMNILOCK_SIGNATURE_PLACEHOLDER","blockchain","WitnessArgs","prepareSigningEntries","_prepareSigningEntries","_default","default"],"sources":["../src/omnilock.ts"],"sourcesContent":["import { TransactionSkeletonType, Options } from \"@ckb-lumos/helpers\";\nimport { bytes, BytesLike } from \"@ckb-lumos/codec\";\nimport {\n  values,\n  Cell,\n  WitnessArgs,\n  CellCollector as CellCollectorType,\n  Script,\n  CellProvider,\n  QueryOptions,\n  OutPoint,\n  HexString,\n  PackedSince,\n  blockchain,\n} from \"@ckb-lumos/base\";\nimport { getConfig, Config } from \"@ckb-lumos/config-manager\";\nimport {\n  addCellDep,\n  prepareSigningEntries as _prepareSigningEntries,\n  isOmnilockScript,\n  OMNILOCK_SIGNATURE_PLACEHOLDER,\n} from \"./helper\";\nimport { FromInfo } from \".\";\nimport { parseFromInfo } from \"./from_info\";\nimport { CellCollectorConstructor } from \"./type\";\nimport {\n  byteOf,\n  byteVecOf,\n  option,\n  table,\n  vector,\n} from \"@ckb-lumos/codec/lib/molecule\";\nimport {\n  BytesOpt,\n  createFixedHexBytesCodec,\n} from \"@ckb-lumos/codec/lib/blockchain\";\nimport { bytify, hexify } from \"@ckb-lumos/codec/lib/bytes\";\nconst { ScriptValue } = values;\n\nexport type OmnilockInfo = {\n  auth: {\n    flag: \"ETHEREUM\" | \"SECP256K1_BLAKE160\";\n    /**\n     * if auth flag is SECP256K1_BLAKE160, content is publicKeyToBlake160(secp256k1Pubkey)\n     * if auth flag is ETHEREUM, content is Ethereum address\n     */\n    content: BytesLike;\n  };\n};\n\n/**\n * only support ETHEREUM and SECP256K1_BLAKE160 mode currently\n * refer to: @link https://github.com/nervosnetwork/rfcs/blob/master/rfcs/0042-omnilock/0042-omnilock.md omnilock\n * @param omnilockInfo\n * @param options\n * @returns\n */\nexport function createOmnilockScript(\n  omnilockInfo: OmnilockInfo,\n  options?: Options\n): Script {\n  const config = options?.config || getConfig();\n  const omnilockConfig = config.SCRIPTS.OMNILOCK;\n  if (!omnilockConfig) {\n    throw new Error(\"OMNILOCK script config not found.\");\n  }\n\n  const args = (() => {\n    // omni flag       pubkey hash   omni lock flags\n    // chain identity   eth addr      function flag()\n    // 00: Nervos       ðŸ‘‡            00: owner\n    // 01: Ethereum     ðŸ‘‡            01: administrator\n    if (omnilockInfo.auth.flag === \"ETHEREUM\") {\n      return `0x01${bytes.hexify(omnilockInfo.auth.content).slice(2)}00`;\n    }\n    if (omnilockInfo.auth.flag === \"SECP256K1_BLAKE160\") {\n      return `0x00${bytes.hexify(omnilockInfo.auth.content).slice(2)}00`;\n    }\n    throw new Error(`Not supported flag: ${omnilockInfo.auth.flag}.`);\n  })();\n\n  const script: Script = {\n    codeHash: omnilockConfig.CODE_HASH,\n    hashType: omnilockConfig.HASH_TYPE,\n    args,\n  };\n  return script;\n}\n\nconst Hexify = { pack: bytify, unpack: hexify };\nconst Identity = createFixedHexBytesCodec(21);\nconst SmtProof = byteVecOf(Hexify);\nconst SmtProofEntry = table(\n  {\n    mask: byteOf(Hexify),\n    proof: SmtProof,\n  },\n  [\"mask\", \"proof\"]\n);\nconst SmtProofEntryVec = vector(SmtProofEntry);\nconst OmniIdentity = table(\n  {\n    identity: Identity,\n    proofs: SmtProofEntryVec,\n  },\n  [\"identity\", \"proofs\"]\n);\nconst OmniIdentityOpt = option(OmniIdentity);\nexport const OmnilockWitnessLock = table(\n  {\n    signature: BytesOpt,\n    omni_identity: OmniIdentityOpt,\n    preimage: BytesOpt,\n  },\n  [\"signature\", \"omni_identity\", \"preimage\"]\n);\n\nexport const CellCollector: CellCollectorConstructor = class CellCollector\n  implements CellCollectorType\n{\n  private cellCollector: CellCollectorType;\n  private config: Config;\n  public readonly fromScript: Script;\n\n  constructor(\n    fromInfo: FromInfo,\n    cellProvider: CellProvider,\n    {\n      config = undefined,\n      queryOptions = {},\n    }: Options & {\n      queryOptions?: QueryOptions;\n    } = {}\n  ) {\n    if (!cellProvider) {\n      throw new Error(`Cell provider is missing!`);\n    }\n    config = config || getConfig();\n    this.fromScript = parseFromInfo(fromInfo, { config }).fromScript;\n\n    this.config = config;\n\n    queryOptions = {\n      ...queryOptions,\n      lock: this.fromScript,\n      type: queryOptions.type || \"empty\",\n    };\n\n    this.cellCollector = cellProvider.collector(queryOptions);\n  }\n\n  async *collect(): AsyncGenerator<Cell> {\n    if (!isOmnilockScript(this.fromScript, this.config)) {\n      return;\n    }\n\n    for await (const inputCell of this.cellCollector.collect()) {\n      yield inputCell;\n    }\n  }\n};\n\n/**\n * Setup input cell infos, such as cell deps and witnesses.\n *\n * @param txSkeleton\n * @param inputCell\n * @param _fromInfo\n * @param options\n */\nexport async function setupInputCell(\n  txSkeleton: TransactionSkeletonType,\n  inputCell: Cell,\n  _fromInfo?: FromInfo,\n  {\n    config = undefined,\n    defaultWitness = \"0x\",\n    since = undefined,\n  }: Options & {\n    defaultWitness?: HexString;\n    since?: PackedSince;\n  } = {}\n): Promise<TransactionSkeletonType> {\n  config = config || getConfig();\n\n  const fromScript = inputCell.cellOutput.lock;\n  if (!isOmnilockScript(fromScript, config)) {\n    throw new Error(`Not OMNILOCK input!`);\n  }\n\n  // add inputCell to txSkeleton\n  txSkeleton = txSkeleton.update(\"inputs\", (inputs) => {\n    return inputs.push(inputCell);\n  });\n\n  const output: Cell = {\n    cellOutput: {\n      capacity: inputCell.cellOutput.capacity,\n      lock: inputCell.cellOutput.lock,\n      type: inputCell.cellOutput.type,\n    },\n    data: inputCell.data,\n  };\n\n  txSkeleton = txSkeleton.update(\"outputs\", (outputs) => {\n    return outputs.push(output);\n  });\n\n  if (since) {\n    txSkeleton = txSkeleton.update(\"inputSinces\", (inputSinces) => {\n      return inputSinces.set(txSkeleton.get(\"inputs\").size - 1, since);\n    });\n  }\n\n  txSkeleton = txSkeleton.update(\"witnesses\", (witnesses) => {\n    return witnesses.push(defaultWitness);\n  });\n\n  const template = config.SCRIPTS.OMNILOCK;\n  const secp256k1Template = config.SCRIPTS.SECP256K1_BLAKE160;\n  if (!template) {\n    throw new Error(`OMNILOCK script not defined in config!`);\n  }\n  if (!secp256k1Template) {\n    throw new Error(`SECP256K1_BLAKE160 script not defined in config!`);\n  }\n\n  const omnilockOutPoint: OutPoint = {\n    txHash: template.TX_HASH,\n    index: template.INDEX,\n  };\n  const secp256k1OutPoint: OutPoint = {\n    txHash: secp256k1Template.TX_HASH,\n    index: secp256k1Template.INDEX,\n  };\n\n  // add cell dep\n  txSkeleton = addCellDep(txSkeleton, {\n    outPoint: omnilockOutPoint,\n    depType: template.DEP_TYPE,\n  });\n  txSkeleton = addCellDep(txSkeleton, {\n    outPoint: secp256k1OutPoint,\n    depType: secp256k1Template.DEP_TYPE,\n  });\n\n  // add witness\n  /*\n   * Modify the skeleton, so the first witness of the fromAddress script group\n   * has a WitnessArgs construct with 85-byte zero filled values. While this\n   * is not required, it helps in transaction fee estimation.\n   */\n  const firstIndex = txSkeleton\n    .get(\"inputs\")\n    .findIndex((input) =>\n      new ScriptValue(input.cellOutput.lock, { validate: false }).equals(\n        new ScriptValue(fromScript, { validate: false })\n      )\n    );\n  if (firstIndex !== -1) {\n    while (firstIndex >= txSkeleton.get(\"witnesses\").size) {\n      txSkeleton = txSkeleton.update(\"witnesses\", (witnesses) =>\n        witnesses.push(\"0x\")\n      );\n    }\n    let witness: string = txSkeleton.get(\"witnesses\").get(firstIndex)!;\n    const newWitnessArgs: WitnessArgs = {\n      /* 85-byte zeros in hex */\n      lock: OMNILOCK_SIGNATURE_PLACEHOLDER,\n    };\n    witness = bytes.hexify(blockchain.WitnessArgs.pack(newWitnessArgs));\n    txSkeleton = txSkeleton.update(\"witnesses\", (witnesses) =>\n      witnesses.set(firstIndex, witness)\n    );\n  }\n\n  return txSkeleton;\n}\n\n/**\n * prepare for txSkeleton signingEntries, will update txSkeleton.get(\"signingEntries\")\n *\n * @param txSkeleton\n * @param options\n */\nexport function prepareSigningEntries(\n  txSkeleton: TransactionSkeletonType,\n  { config = undefined }: Options = {}\n): TransactionSkeletonType {\n  config = config || getConfig();\n\n  return _prepareSigningEntries(txSkeleton, config, \"OMNILOCK\");\n}\n\nexport default {\n  prepareSigningEntries,\n  setupInputCell,\n  CellCollector,\n  OmnilockWitnessLock,\n  createOmnilockScript,\n};\n"],"mappings":"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"}